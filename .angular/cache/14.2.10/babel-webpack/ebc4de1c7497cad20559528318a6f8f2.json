{"ast":null,"code":"/**\n * Factory of MySegments fetcher.\n * MySegments fetcher is a wrapper around `mySegments` API service that parses the response and handle errors.\n */\nexport function mySegmentsFetcherFactory(fetchMySegments) {\n  return function mySegmentsFetcher(userMatchingKey, noCache,\n  // Optional decorator for `fetchMySegments` promise, such as timeout or time tracker\n  decorator) {\n    var mySegmentsPromise = fetchMySegments(userMatchingKey, noCache);\n    if (decorator) mySegmentsPromise = decorator(mySegmentsPromise);\n    // Extract segment names\n    return mySegmentsPromise.then(function (resp) {\n      return resp.json();\n    }).then(function (json) {\n      return json.mySegments.map(function (segment) {\n        return segment.name;\n      });\n    });\n  };\n}","map":{"version":3,"names":["mySegmentsFetcherFactory","fetchMySegments","mySegmentsFetcher","userMatchingKey","noCache","decorator","mySegmentsPromise","then","resp","json","mySegments","map","segment","name"],"sources":["/Users/temitopeogunrekun/Desktop/angular-db/node_modules/@splitsoftware/splitio-commons/esm/sync/polling/fetchers/mySegmentsFetcher.js"],"sourcesContent":["/**\n * Factory of MySegments fetcher.\n * MySegments fetcher is a wrapper around `mySegments` API service that parses the response and handle errors.\n */\nexport function mySegmentsFetcherFactory(fetchMySegments) {\n    return function mySegmentsFetcher(userMatchingKey, noCache, \n    // Optional decorator for `fetchMySegments` promise, such as timeout or time tracker\n    decorator) {\n        var mySegmentsPromise = fetchMySegments(userMatchingKey, noCache);\n        if (decorator)\n            mySegmentsPromise = decorator(mySegmentsPromise);\n        // Extract segment names\n        return mySegmentsPromise\n            .then(function (resp) { return resp.json(); })\n            .then(function (json) { return json.mySegments.map(function (segment) { return segment.name; }); });\n    };\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,OAAO,SAASA,wBAAwB,CAACC,eAAe,EAAE;EACtD,OAAO,SAASC,iBAAiB,CAACC,eAAe,EAAEC,OAAO;EAC1D;EACAC,SAAS,EAAE;IACP,IAAIC,iBAAiB,GAAGL,eAAe,CAACE,eAAe,EAAEC,OAAO,CAAC;IACjE,IAAIC,SAAS,EACTC,iBAAiB,GAAGD,SAAS,CAACC,iBAAiB,CAAC;IACpD;IACA,OAAOA,iBAAiB,CACnBC,IAAI,CAAC,UAAUC,IAAI,EAAE;MAAE,OAAOA,IAAI,CAACC,IAAI,EAAE;IAAE,CAAC,CAAC,CAC7CF,IAAI,CAAC,UAAUE,IAAI,EAAE;MAAE,OAAOA,IAAI,CAACC,UAAU,CAACC,GAAG,CAAC,UAAUC,OAAO,EAAE;QAAE,OAAOA,OAAO,CAACC,IAAI;MAAE,CAAC,CAAC;IAAE,CAAC,CAAC;EAC3G,CAAC;AACL"},"metadata":{},"sourceType":"module"}