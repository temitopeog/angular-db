{"ast":null,"code":"import { thenable } from '../../utils/promise/thenable';\nimport { ENGINE_MATCHER_SEGMENT } from '../../logger/constants';\nexport function segmentMatcherContext(log, segmentName, storage) {\n  return function segmentMatcher(key) {\n    var isInSegment = storage.segments.isInSegment(segmentName, key);\n    if (thenable(isInSegment)) {\n      isInSegment.then(function (result) {\n        log.debug(ENGINE_MATCHER_SEGMENT, [segmentName, key, isInSegment]);\n        return result;\n      });\n    } else {\n      log.debug(ENGINE_MATCHER_SEGMENT, [segmentName, key, isInSegment]);\n    }\n    return isInSegment;\n  };\n}","map":{"version":3,"names":["thenable","ENGINE_MATCHER_SEGMENT","segmentMatcherContext","log","segmentName","storage","segmentMatcher","key","isInSegment","segments","then","result","debug"],"sources":["/Users/temitopeogunrekun/Desktop/angular-db/node_modules/@splitsoftware/splitio-commons/esm/evaluator/matchers/segment.js"],"sourcesContent":["import { thenable } from '../../utils/promise/thenable';\nimport { ENGINE_MATCHER_SEGMENT } from '../../logger/constants';\nexport function segmentMatcherContext(log, segmentName, storage) {\n    return function segmentMatcher(key) {\n        var isInSegment = storage.segments.isInSegment(segmentName, key);\n        if (thenable(isInSegment)) {\n            isInSegment.then(function (result) {\n                log.debug(ENGINE_MATCHER_SEGMENT, [segmentName, key, isInSegment]);\n                return result;\n            });\n        }\n        else {\n            log.debug(ENGINE_MATCHER_SEGMENT, [segmentName, key, isInSegment]);\n        }\n        return isInSegment;\n    };\n}\n"],"mappings":"AAAA,SAASA,QAAQ,QAAQ,8BAA8B;AACvD,SAASC,sBAAsB,QAAQ,wBAAwB;AAC/D,OAAO,SAASC,qBAAqB,CAACC,GAAG,EAAEC,WAAW,EAAEC,OAAO,EAAE;EAC7D,OAAO,SAASC,cAAc,CAACC,GAAG,EAAE;IAChC,IAAIC,WAAW,GAAGH,OAAO,CAACI,QAAQ,CAACD,WAAW,CAACJ,WAAW,EAAEG,GAAG,CAAC;IAChE,IAAIP,QAAQ,CAACQ,WAAW,CAAC,EAAE;MACvBA,WAAW,CAACE,IAAI,CAAC,UAAUC,MAAM,EAAE;QAC/BR,GAAG,CAACS,KAAK,CAACX,sBAAsB,EAAE,CAACG,WAAW,EAAEG,GAAG,EAAEC,WAAW,CAAC,CAAC;QAClE,OAAOG,MAAM;MACjB,CAAC,CAAC;IACN,CAAC,MACI;MACDR,GAAG,CAACS,KAAK,CAACX,sBAAsB,EAAE,CAACG,WAAW,EAAEG,GAAG,EAAEC,WAAW,CAAC,CAAC;IACtE;IACA,OAAOA,WAAW;EACtB,CAAC;AACL"},"metadata":{},"sourceType":"module"}