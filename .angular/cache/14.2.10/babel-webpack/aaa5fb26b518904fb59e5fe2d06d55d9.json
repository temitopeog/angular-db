{"ast":null,"code":"var Backoff = /** @class */function () {\n  /**\n   * Schedule function calls with exponential backoff\n   *\n   * @param {function} cb\n   * @param {number} baseMillis\n   * @param {number} maxMillis\n   */\n  function Backoff(cb, baseMillis, maxMillis) {\n    this.baseMillis = baseMillis || Backoff.DEFAULT_BASE_MILLIS;\n    this.maxMillis = maxMillis || Backoff.DEFAULT_MAX_MILLIS;\n    this.attempts = 0;\n    this.cb = cb;\n  }\n  /**\n   * Schedule a next call to `cb`\n   * @returns scheduled delay in milliseconds\n   */\n  Backoff.prototype.scheduleCall = function () {\n    var _this = this;\n    var delayInMillis = Math.min(this.baseMillis * Math.pow(2, this.attempts), this.maxMillis);\n    if (this.timeoutID) clearTimeout(this.timeoutID);\n    this.timeoutID = setTimeout(function () {\n      _this.cb();\n    }, delayInMillis);\n    this.attempts++;\n    return delayInMillis;\n  };\n  Backoff.prototype.reset = function () {\n    this.attempts = 0;\n    if (this.timeoutID) {\n      clearTimeout(this.timeoutID);\n      this.timeoutID = undefined;\n    }\n  };\n  Backoff.DEFAULT_BASE_MILLIS = 1000; // 1 second\n  Backoff.DEFAULT_MAX_MILLIS = 1800000; // 30 minutes\n  return Backoff;\n}();\nexport { Backoff };","map":{"version":3,"names":["Backoff","cb","baseMillis","maxMillis","DEFAULT_BASE_MILLIS","DEFAULT_MAX_MILLIS","attempts","prototype","scheduleCall","_this","delayInMillis","Math","min","pow","timeoutID","clearTimeout","setTimeout","reset","undefined"],"sources":["/Users/temitopeogunrekun/Desktop/angular-db/node_modules/@splitsoftware/splitio-commons/esm/utils/Backoff.js"],"sourcesContent":["var Backoff = /** @class */ (function () {\n    /**\n     * Schedule function calls with exponential backoff\n     *\n     * @param {function} cb\n     * @param {number} baseMillis\n     * @param {number} maxMillis\n     */\n    function Backoff(cb, baseMillis, maxMillis) {\n        this.baseMillis = baseMillis || Backoff.DEFAULT_BASE_MILLIS;\n        this.maxMillis = maxMillis || Backoff.DEFAULT_MAX_MILLIS;\n        this.attempts = 0;\n        this.cb = cb;\n    }\n    /**\n     * Schedule a next call to `cb`\n     * @returns scheduled delay in milliseconds\n     */\n    Backoff.prototype.scheduleCall = function () {\n        var _this = this;\n        var delayInMillis = Math.min(this.baseMillis * Math.pow(2, this.attempts), this.maxMillis);\n        if (this.timeoutID)\n            clearTimeout(this.timeoutID);\n        this.timeoutID = setTimeout(function () {\n            _this.cb();\n        }, delayInMillis);\n        this.attempts++;\n        return delayInMillis;\n    };\n    Backoff.prototype.reset = function () {\n        this.attempts = 0;\n        if (this.timeoutID) {\n            clearTimeout(this.timeoutID);\n            this.timeoutID = undefined;\n        }\n    };\n    Backoff.DEFAULT_BASE_MILLIS = 1000; // 1 second\n    Backoff.DEFAULT_MAX_MILLIS = 1800000; // 30 minutes\n    return Backoff;\n}());\nexport { Backoff };\n"],"mappings":"AAAA,IAAIA,OAAO,GAAG,aAAe,YAAY;EACrC;AACJ;AACA;AACA;AACA;AACA;AACA;EACI,SAASA,OAAO,CAACC,EAAE,EAAEC,UAAU,EAAEC,SAAS,EAAE;IACxC,IAAI,CAACD,UAAU,GAAGA,UAAU,IAAIF,OAAO,CAACI,mBAAmB;IAC3D,IAAI,CAACD,SAAS,GAAGA,SAAS,IAAIH,OAAO,CAACK,kBAAkB;IACxD,IAAI,CAACC,QAAQ,GAAG,CAAC;IACjB,IAAI,CAACL,EAAE,GAAGA,EAAE;EAChB;EACA;AACJ;AACA;AACA;EACID,OAAO,CAACO,SAAS,CAACC,YAAY,GAAG,YAAY;IACzC,IAAIC,KAAK,GAAG,IAAI;IAChB,IAAIC,aAAa,GAAGC,IAAI,CAACC,GAAG,CAAC,IAAI,CAACV,UAAU,GAAGS,IAAI,CAACE,GAAG,CAAC,CAAC,EAAE,IAAI,CAACP,QAAQ,CAAC,EAAE,IAAI,CAACH,SAAS,CAAC;IAC1F,IAAI,IAAI,CAACW,SAAS,EACdC,YAAY,CAAC,IAAI,CAACD,SAAS,CAAC;IAChC,IAAI,CAACA,SAAS,GAAGE,UAAU,CAAC,YAAY;MACpCP,KAAK,CAACR,EAAE,EAAE;IACd,CAAC,EAAES,aAAa,CAAC;IACjB,IAAI,CAACJ,QAAQ,EAAE;IACf,OAAOI,aAAa;EACxB,CAAC;EACDV,OAAO,CAACO,SAAS,CAACU,KAAK,GAAG,YAAY;IAClC,IAAI,CAACX,QAAQ,GAAG,CAAC;IACjB,IAAI,IAAI,CAACQ,SAAS,EAAE;MAChBC,YAAY,CAAC,IAAI,CAACD,SAAS,CAAC;MAC5B,IAAI,CAACA,SAAS,GAAGI,SAAS;IAC9B;EACJ,CAAC;EACDlB,OAAO,CAACI,mBAAmB,GAAG,IAAI,CAAC,CAAC;EACpCJ,OAAO,CAACK,kBAAkB,GAAG,OAAO,CAAC,CAAC;EACtC,OAAOL,OAAO;AAClB,CAAC,EAAG;AACJ,SAASA,OAAO"},"metadata":{},"sourceType":"module"}