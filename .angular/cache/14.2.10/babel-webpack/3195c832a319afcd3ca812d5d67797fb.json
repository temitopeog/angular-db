{"ast":null,"code":"import { _Map } from '../lang/maps';\nimport { LinkedList, Node } from './LinkedList';\nvar LRUCache = /** @class */function () {\n  function LRUCache(maxSize) {\n    this.maxLen = maxSize || 1;\n    this.items = new _Map();\n    this.lru = new LinkedList();\n  }\n  LRUCache.prototype.get = function (key) {\n    var node = this.items.get(key);\n    if (!node || !(node instanceof Node)) return;\n    this.lru.unshiftNode(node); // Move to front\n    return node.value.value;\n  };\n  LRUCache.prototype.set = function (key, value) {\n    var node = this.items.get(key);\n    if (node) {\n      if (!(node instanceof Node)) return false;\n      this.lru.unshiftNode(node); // Move to front\n      this.lru.head.value.value = value; // Update value\n    } else {\n      if (this.lru.length === this.maxLen) {\n        // Remove last\n        var last = this.lru.tail;\n        if (!last) return false;\n        this.items.delete(last.value.key);\n        this.lru.removeNode(this.lru.tail); // Remove node\n      }\n      // @ts-ignore\n      this.lru.unshift({\n        key: key,\n        value: value\n      }); // Push front\n      this.items.set(key, this.lru.head);\n    }\n    return true;\n  };\n  return LRUCache;\n}();\nexport { LRUCache };","map":{"version":3,"names":["_Map","LinkedList","Node","LRUCache","maxSize","maxLen","items","lru","prototype","get","key","node","unshiftNode","value","set","head","length","last","tail","delete","removeNode","unshift"],"sources":["/Users/temitopeogunrekun/Desktop/angular-db/node_modules/@splitsoftware/splitio-commons/esm/utils/LRUCache/index.js"],"sourcesContent":["import { _Map } from '../lang/maps';\nimport { LinkedList, Node } from './LinkedList';\nvar LRUCache = /** @class */ (function () {\n    function LRUCache(maxSize) {\n        this.maxLen = maxSize || 1;\n        this.items = new _Map();\n        this.lru = new LinkedList();\n    }\n    LRUCache.prototype.get = function (key) {\n        var node = this.items.get(key);\n        if (!node || !(node instanceof Node))\n            return;\n        this.lru.unshiftNode(node); // Move to front\n        return node.value.value;\n    };\n    LRUCache.prototype.set = function (key, value) {\n        var node = this.items.get(key);\n        if (node) {\n            if (!(node instanceof Node))\n                return false;\n            this.lru.unshiftNode(node); // Move to front\n            this.lru.head.value.value = value; // Update value\n        }\n        else {\n            if (this.lru.length === this.maxLen) { // Remove last\n                var last = this.lru.tail;\n                if (!last)\n                    return false;\n                this.items.delete(last.value.key);\n                this.lru.removeNode(this.lru.tail); // Remove node\n            }\n            // @ts-ignore\n            this.lru.unshift({ key: key, value: value }); // Push front\n            this.items.set(key, this.lru.head);\n        }\n        return true;\n    };\n    return LRUCache;\n}());\nexport { LRUCache };\n"],"mappings":"AAAA,SAASA,IAAI,QAAQ,cAAc;AACnC,SAASC,UAAU,EAAEC,IAAI,QAAQ,cAAc;AAC/C,IAAIC,QAAQ,GAAG,aAAe,YAAY;EACtC,SAASA,QAAQ,CAACC,OAAO,EAAE;IACvB,IAAI,CAACC,MAAM,GAAGD,OAAO,IAAI,CAAC;IAC1B,IAAI,CAACE,KAAK,GAAG,IAAIN,IAAI,EAAE;IACvB,IAAI,CAACO,GAAG,GAAG,IAAIN,UAAU,EAAE;EAC/B;EACAE,QAAQ,CAACK,SAAS,CAACC,GAAG,GAAG,UAAUC,GAAG,EAAE;IACpC,IAAIC,IAAI,GAAG,IAAI,CAACL,KAAK,CAACG,GAAG,CAACC,GAAG,CAAC;IAC9B,IAAI,CAACC,IAAI,IAAI,EAAEA,IAAI,YAAYT,IAAI,CAAC,EAChC;IACJ,IAAI,CAACK,GAAG,CAACK,WAAW,CAACD,IAAI,CAAC,CAAC,CAAC;IAC5B,OAAOA,IAAI,CAACE,KAAK,CAACA,KAAK;EAC3B,CAAC;EACDV,QAAQ,CAACK,SAAS,CAACM,GAAG,GAAG,UAAUJ,GAAG,EAAEG,KAAK,EAAE;IAC3C,IAAIF,IAAI,GAAG,IAAI,CAACL,KAAK,CAACG,GAAG,CAACC,GAAG,CAAC;IAC9B,IAAIC,IAAI,EAAE;MACN,IAAI,EAAEA,IAAI,YAAYT,IAAI,CAAC,EACvB,OAAO,KAAK;MAChB,IAAI,CAACK,GAAG,CAACK,WAAW,CAACD,IAAI,CAAC,CAAC,CAAC;MAC5B,IAAI,CAACJ,GAAG,CAACQ,IAAI,CAACF,KAAK,CAACA,KAAK,GAAGA,KAAK,CAAC,CAAC;IACvC,CAAC,MACI;MACD,IAAI,IAAI,CAACN,GAAG,CAACS,MAAM,KAAK,IAAI,CAACX,MAAM,EAAE;QAAE;QACnC,IAAIY,IAAI,GAAG,IAAI,CAACV,GAAG,CAACW,IAAI;QACxB,IAAI,CAACD,IAAI,EACL,OAAO,KAAK;QAChB,IAAI,CAACX,KAAK,CAACa,MAAM,CAACF,IAAI,CAACJ,KAAK,CAACH,GAAG,CAAC;QACjC,IAAI,CAACH,GAAG,CAACa,UAAU,CAAC,IAAI,CAACb,GAAG,CAACW,IAAI,CAAC,CAAC,CAAC;MACxC;MACA;MACA,IAAI,CAACX,GAAG,CAACc,OAAO,CAAC;QAAEX,GAAG,EAAEA,GAAG;QAAEG,KAAK,EAAEA;MAAM,CAAC,CAAC,CAAC,CAAC;MAC9C,IAAI,CAACP,KAAK,CAACQ,GAAG,CAACJ,GAAG,EAAE,IAAI,CAACH,GAAG,CAACQ,IAAI,CAAC;IACtC;IACA,OAAO,IAAI;EACf,CAAC;EACD,OAAOZ,QAAQ;AACnB,CAAC,EAAG;AACJ,SAASA,QAAQ"},"metadata":{},"sourceType":"module"}